<!doctype html><html lang=en-us prefix="og: https://ogp.me/ns#"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=content-security-policy content="form-action 'none'; upgrade-insecure-requests; block-all-mixed-content; base-uri 'none'"><meta property="og:title" content="swayã«ã¤ã„ã¦ - å¿˜ã‚Œãªã„ã‚ˆã†ã«... 2"><title>swayã«ã¤ã„ã¦ - å¿˜ã‚Œãªã„ã‚ˆã†ã«... 2</title><meta property="og:description" content><meta name=description content><meta property="og:author" content="soracat"><meta property="og:url" content="https://soracqt.github.io/posts/2021-05-20-sway/"><link rel=stylesheet href="/scss/main.min.e31351cf7100a4f64271b6d799eaf8b968d1e6f2c5191d585f16371906f32e72.css"><link rel=icon href=../../favicon/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=../../favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon/favicon-16x16.png><meta property="og:image" content="/favicon/og-image.png"></head><body><div class=header-nav><header><a href=../../><img src alt=icon width=50 height=50><h1>å¿˜ã‚Œãªã„ã‚ˆã†ã«... 2</h1></a></header><nav><a href=../../tags/ title>Tags</a></nav></div><div class=article-labels><div class=tags><p><a href=../../tags>Tags:</a> <a href=../../tags/swaywm>[swaywm]</a> <a href=../../tags/wayland>[wayland]</a> <a href=../../tags/linux>[linux]</a> <a href=../../tags/xorg>[xorg]</a> <a href=../../tags/tiling-window-manager>[tiling-window-manager]</a></p></div></div><main><article><div class=article-header><h1>swayã«ã¤ã„ã¦</h1><span class=author-date><p>By <a href=https://github.com/soracqt>soracat</a> Â· Made at: 2021/05/20</p></span></div><div class=article-content><p>Swayã¨ã¯waylandã®ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒãƒãƒ¼ã‚¸ãƒ£ã§ã™</p><p>waylandã®å ´åˆ<code>~/.xprofile</code>ã¯èª­ã¿è¾¼ã¾ã‚Œã¾ã›ã‚“</p><p>lightdmã‚’ä½¿ã†ã¨èª­ã¿è¾¼ã¾ã‚Œã¾ã™</p><p>waylandã§å¤‰æ•°å®šç¾©ã™ã‚‹ã«ã¯<code>~/.pam_environment</code>ã‚’ä½¿ã£ã¦ãã ã•ã„</p><p>å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸(archlinux)ã¯ sway, xorg-xwayland, swayidle, swaylock(locker), grim, mako, gammastepã§ã™</p><p>è¨­å®šã¯<code>~/.config/sway/config</code>ã§ã™</p><p>i3wmã®configã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°è¦‹ãªãŒã‚‰ä¿®æ­£ã™ã‚‹ã¨æ¥½ã§ã™</p><p>ã‚µãƒ³ãƒ—ãƒ«è¨­å®šã¯archlinuxã®å ´åˆ<code>/etc/sway/config</code>ã«ã‚ã‚Šã¾ã™ã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ã£ã¦ãã ã•ã„</p><p>ãƒ–ãƒ©ã‚¦ã‚¶ã¯chromiumã¯æ¨å¥¨ã•ã‚Œã¾ã›ã‚“firefoxã‚’ä½¿ã„ã¾ã—ã‚‡ã†</p><h2 id=i3wmx11ã‹ã‚‰ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ä»£æ›¿>i3wm(X11)ã‹ã‚‰ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ä»£æ›¿
<a class=anchor href=#i3wmx11%e3%81%8b%e3%82%89%e3%82%bd%e3%83%95%e3%83%88%e3%82%a6%e3%82%a7%e3%82%a2%e3%81%ae%e4%bb%a3%e6%9b%bf>ğŸ”—</a></h2><p><a href=https://github.com/swaywm/sway/wiki/i3-Migration-Guide>https://github.com/swaywm/sway/wiki/i3-Migration-Guide</a></p><p>ã«æ›¸ã„ã¦ã¾ã™ãŒå®Ÿéš›ç§»è¡Œã—ãŸã‚‚ã®ã‚’æ›¸ã„ã¦ã„ãã¾ã™</p><ul><li><p><a href=https://github.com/haikarainen/light>light</a>(i3wm) â†’ light(sway) lightãã‚“X11ã§ã‚‚waylandã§ã‚‚ãƒãƒƒã‚¯ãƒ©ã‚¤ãƒˆèª¿æ•´ã§ãã¾ã™ä¸‡èƒ½ã§ã™ !</p></li><li><p>xfce4-notifyd(i3wm) â†’ <a href=https://github.com/emersion/mako>mako</a></p></li><li><p>feh(i3wm) â†’ sway-output</p></li><li><p>flameshot â†’ flameshot</p></li></ul><p><code>sway/config</code></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>output * <span style=color:#81a1c1>bg</span> ~/Pictures/wallpaper.jpg fill
</span></span></code></pre></div><p><code>~/Pictures/wallpaper.jpg</code>ã«å£ç´™ã«è¨­å®šã—ãŸã„ç”»åƒãŒã‚ã‚‹ã¨ä»®å®šã—ã¦ã¾ã™</p><p>é©å½“ã«ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’æ›¸ãæ›ãˆã¦ãã ã•ã„</p><p>è¨­å®šã«æ›¸ãã¨å£ç´™ãŒè¨­å®šã§ãã¾ã™</p><ul><li><p>picom / compton / xcompmgr â†’ <strong>å…¥ã‚Œã‚‹å¿…è¦ãªã—</strong>(Swayè‡ªä½“ãŒã‚³ãƒ³ãƒã‚¸ã‚¿)</p></li><li><p><a href=https://github.com/davatorium/rofi>rofi</a>(i3wm) â†’ wofi(sway)</p></li></ul><p><code>sway/config</code></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#81a1c1>set</span> $menu <span style=color:#a3be8c>&#34;wofi --show drun --allow-images&#34;</span>
</span></span></code></pre></div><p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§dmenuãŒä½¿ã‚ã‚Œã¦ã¾ã™</p><p>rofi likeãªãƒ©ãƒ³ãƒãƒ£ãƒ¼ãŒä½¿ã„ãŸã„ãªã‚‰set $menu &mldr;ã®éƒ¨åˆ†ã‚’å¤‰æ›´ã—ã¦ãã ã•ã„</p><ul><li><a href=https://github.com/jonls/redshift>redshift</a>(i3wm) â†’ <a href=https://gitlab.com/chinstrap/gammastep>gammastep</a>, <a href=https://github.com/kennylevinsen/wlsunset>wlsunset</a>, <a href=https://github.com/minus7/redshift>redshift-wayland</a> ç§ã¯gammastepã‚’ä½¿ã„ã¾ã—ãŸ</li></ul><p>ã‚µãƒ³ãƒ—ãƒ«è¨­å®š(<a href=https://gitlab.com/chinstrap/gammastep/-/raw/master/gammastep.conf.sample>https://gitlab.com/chinstrap/gammastep/-/raw/master/gammastep.conf.sample</a>)ã‚’<code>~/.config/gammastep/config.ini</code>ã«wget/curlã—</p><p>ãƒ¡ã‚½ãƒƒãƒ‰ã‚’waylandã«å¤‰ãˆã¦ãã ã•ã„</p><p><code>gammastep/config.ini</code></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=color:#bf616a>-adjustment-method=randr
</span></span></span><span style=display:flex><span><span style=color:#bf616a>---
</span></span></span><span style=display:flex><span><span style=color:#bf616a></span><span style=color:#a3be8c>+adjustment-method=wayland
</span></span></span></code></pre></div><p>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã¯redshiftã¨ä¸€ç·’ã§ã™.</p><p>redshiftã®è¨­å®šã‚³ãƒ”ãƒ¼ã—ã¦methodå¤‰ãˆãŸã‚‰å‹•ãã¾ã™</p><p>redshiftã®è¨­å®šã¯https://wiki.archlinux.jp/index.php/Redshiftã‚’è¦‹ã¦ã‚„ã£ã¦ãã ã•ã„</p><ul><li><a href=https://github.com/greshake/i3status-rust>i3status-rust</a> waylandã§å‹•ãã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼, å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå……å®Ÿã—ã¦ã¦è¨­å®šãŒæ¥½</li></ul><h2 id=ã‚µã‚¹ãƒšãƒ³ãƒ‰ã—ãŸéš›ã«ãƒ­ãƒƒã‚¯>ã‚µã‚¹ãƒšãƒ³ãƒ‰ã—ãŸéš›ã«ãƒ­ãƒƒã‚¯
<a class=anchor href=#%e3%82%b5%e3%82%b9%e3%83%9a%e3%83%b3%e3%83%89%e3%81%97%e3%81%9f%e9%9a%9b%e3%81%ab%e3%83%ad%e3%83%83%e3%82%af>ğŸ”—</a></h2><p><code>sway/config</code></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#81a1c1>exec</span> swayidle before-sleep <span style=color:#a3be8c>&#39;swaylock -f -c 000000; swaymsg &#34;output * dpms off&#34;&#39;</span> after-resume <span style=color:#a3be8c>&#39;swaymsg &#34;output * dpms on&#34;&#39;</span>
</span></span></code></pre></div><p>systemdã‚µãƒãƒ¼ãƒˆã§ãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸéš›ã«ä½¿ãˆã¾ã™(logind?)</p><p>ã“ã®ä¾‹ã¯swaylockã‚’ä½¿ã£ã¦ã¾ã™ãŒãŠå¥½ã¿ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚»ãƒ¼ãƒãƒ¼ã‚’ä½¿ã£ã¦ãã ã•ã„</p><p>ãƒ¢ãƒ‹ã‚¿ãƒ¼ã®é›»æº(dpms)ã‚‚åˆ‡ã£ã¦ãã‚Œã¾ã™</p><h2 id=ãƒã‚·ãƒ³ã«è§¦ã‚‰ãªã‹ã£ãŸå ´åˆè‡ªå‹•ã§ãƒ­ãƒƒã‚¯>ãƒã‚·ãƒ³ã«è§¦ã‚‰ãªã‹ã£ãŸå ´åˆè‡ªå‹•ã§ãƒ­ãƒƒã‚¯
<a class=anchor href=#%e3%83%9e%e3%82%b7%e3%83%b3%e3%81%ab%e8%a7%a6%e3%82%89%e3%81%aa%e3%81%8b%e3%81%a3%e3%81%9f%e5%a0%b4%e5%90%88%e8%87%aa%e5%8b%95%e3%81%a7%e3%83%ad%e3%83%83%e3%82%af>ğŸ”—</a></h2><p><code>sway/config</code></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#81a1c1>exec</span> swayidle -w <span style=color:#ebcb8b>\
</span></span></span><span style=display:flex><span><span style=color:#ebcb8b></span>          timeout <span style=color:#b48ead>300</span> <span style=color:#a3be8c>&#39;swaylock -f -c 000000&#39;</span> <span style=color:#ebcb8b>\
</span></span></span><span style=display:flex><span><span style=color:#ebcb8b></span>          timeout <span style=color:#b48ead>600</span> <span style=color:#a3be8c>&#39;swaymsg &#34;output * dpms off&#34;&#39;</span> resume <span style=color:#a3be8c>&#39;swaymsg &#34;output * dpms on&#34;&#39;</span> 
</span></span></code></pre></div><p>ã“ã®å ´åˆ5åˆ†ã§ãƒ­ãƒƒã‚¯ã•ã‚Œã€ãã®å¾Œ10åˆ†å¾ŒdpmsãŒã‚ªãƒ•ã«ãªã‚Šã¾ã™</p><h2 id=firefoxã‚’å‹•ã‹ã™>firefoxã‚’å‹•ã‹ã™
<a class=anchor href=#firefox%e3%82%92%e5%8b%95%e3%81%8b%e3%81%99>ğŸ”—</a></h2><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>MOZ_ENABLE_WAYLAND<span style=color:#81a1c1>=</span><span style=color:#b48ead>1</span> firefox
</span></span></code></pre></div><p>ã§èµ·å‹•ã—ã¾ã™ãŒ</p><p><code>~/.pam_environment</code>ã«æ›¸ã„ã¦æ°¸ç¶šåŒ–ã—ã¾ã™</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#81a1c1>echo</span> MOZ_ENABLE_WAYLAND<span style=color:#81a1c1>=</span><span style=color:#b48ead>1</span> &gt;&gt; ~/.pam_environment
</span></span></code></pre></div><h2 id=alacrittyã§æ—¥æœ¬èªãŒæ‰“ã¦ãªã„>alacrittyã§æ—¥æœ¬èªãŒæ‰“ã¦ãªã„
<a class=anchor href=#alacritty%e3%81%a7%e6%97%a5%e6%9c%ac%e8%aa%9e%e3%81%8c%e6%89%93%e3%81%a6%e3%81%aa%e3%81%84>ğŸ”—</a></h2><p><a href=https://qiita.com/yutkat/items/6aa10c9bd1bb71c15636#alacritty%E4%B8%8A%E3%81%A7fcitx%E3%81%8C%E5%8B%95%E4%BD%9C%E3%81%97%E3%81%AA%E3%81%84>yutkatã•ã‚“ã®qiitaè¨˜äº‹</a></p><p>ã«æ›¸ã„ã¦ã¾ã—ãŸã‚ã‚ŠãŒãŸã„ã§ã™</p><h2 id=xdg-desktop-portal-gtkã®èµ·å‹•ãŒå¤±æ•—ã™ã‚‹>xdg-desktop-portal-gtkã®èµ·å‹•ãŒå¤±æ•—ã™ã‚‹
<a class=anchor href=#xdg-desktop-portal-gtk%e3%81%ae%e8%b5%b7%e5%8b%95%e3%81%8c%e5%a4%b1%e6%95%97%e3%81%99%e3%82%8b>ğŸ”—</a></h2><p><a href=https://github.com/swaywm/sway/wiki#gtk-applications-take-20-seconds-to-start>https://github.com/swaywm/sway/wiki#gtk-applications-take-20-seconds-to-start</a></p><p><code>sway/config</code></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#81a1c1>exec</span> systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK
</span></span><span style=display:flex><span><span style=color:#81a1c1>exec</span> <span style=color:#81a1c1>hash</span> dbus-update-activation-environment 2&gt;/dev/null <span style=color:#81a1c1>&amp;&amp;</span> <span style=color:#ebcb8b>\
</span></span></span><span style=display:flex><span><span style=color:#ebcb8b></span>     dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK
</span></span></code></pre></div><h2 id=gtkãƒ†ãƒ¼ãƒãŒé©ç”¨ã•ã‚Œãªã„>gtkãƒ†ãƒ¼ãƒãŒé©ç”¨ã•ã‚Œãªã„
<a class=anchor href=#gtk%e3%83%86%e3%83%bc%e3%83%9e%e3%81%8c%e9%81%a9%e7%94%a8%e3%81%95%e3%82%8c%e3%81%aa%e3%81%84>ğŸ”—</a></h2><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#5e81ac;font-style:italic>#!/bin/sh
</span></span></span><span style=display:flex><span><span style=color:#5e81ac;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic># usage: import-gsettings</span>
</span></span><span style=display:flex><span>config<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;</span><span style=color:#a3be8c>${</span>XDG_CONFIG_HOME<span style=color:#81a1c1;font-weight:700>:-</span>$HOME<span style=color:#eceff4>/.config</span><span style=color:#a3be8c>}</span><span style=color:#a3be8c>/gtk-3.0/settings.ini&#34;</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>if</span> <span style=color:#81a1c1>[</span> ! -f <span style=color:#a3be8c>&#34;</span>$config<span style=color:#a3be8c>&#34;</span> <span style=color:#81a1c1>]</span><span style=color:#eceff4>;</span> <span style=color:#81a1c1;font-weight:700>then</span> <span style=color:#81a1c1>exit</span> 1<span style=color:#eceff4>;</span> <span style=color:#81a1c1;font-weight:700>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>gnome_schema<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;org.gnome.desktop.interface&#34;</span>
</span></span><span style=display:flex><span>gtk_theme<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;</span><span style=color:#81a1c1;font-weight:700>$(</span>grep <span style=color:#a3be8c>&#39;gtk-theme-name&#39;</span> <span style=color:#a3be8c>&#34;</span>$config<span style=color:#a3be8c>&#34;</span> <span style=color:#eceff4>|</span> cut -d<span style=color:#a3be8c>&#39;=&#39;</span> -f2<span style=color:#81a1c1;font-weight:700>)</span><span style=color:#a3be8c>&#34;</span>
</span></span><span style=display:flex><span>icon_theme<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;</span><span style=color:#81a1c1;font-weight:700>$(</span>grep <span style=color:#a3be8c>&#39;gtk-icon-theme-name&#39;</span> <span style=color:#a3be8c>&#34;</span>$config<span style=color:#a3be8c>&#34;</span> <span style=color:#eceff4>|</span> cut -d<span style=color:#a3be8c>&#39;=&#39;</span> -f2<span style=color:#81a1c1;font-weight:700>)</span><span style=color:#a3be8c>&#34;</span>
</span></span><span style=display:flex><span>cursor_theme<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;</span><span style=color:#81a1c1;font-weight:700>$(</span>grep <span style=color:#a3be8c>&#39;gtk-cursor-theme-name&#39;</span> <span style=color:#a3be8c>&#34;</span>$config<span style=color:#a3be8c>&#34;</span> <span style=color:#eceff4>|</span> cut -d<span style=color:#a3be8c>&#39;=&#39;</span> -f2<span style=color:#81a1c1;font-weight:700>)</span><span style=color:#a3be8c>&#34;</span>
</span></span><span style=display:flex><span>font_name<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;</span><span style=color:#81a1c1;font-weight:700>$(</span>grep <span style=color:#a3be8c>&#39;gtk-font-name&#39;</span> <span style=color:#a3be8c>&#34;</span>$config<span style=color:#a3be8c>&#34;</span> <span style=color:#eceff4>|</span> cut -d<span style=color:#a3be8c>&#39;=&#39;</span> -f2<span style=color:#81a1c1;font-weight:700>)</span><span style=color:#a3be8c>&#34;</span>
</span></span><span style=display:flex><span>cursor_size<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;</span><span style=color:#81a1c1;font-weight:700>$(</span>grep <span style=color:#a3be8c>&#39;gtk-cursor-theme-size&#39;</span> <span style=color:#a3be8c>&#34;</span>$config<span style=color:#a3be8c>&#34;</span> <span style=color:#eceff4>|</span> cut -d<span style=color:#a3be8c>&#39;=&#39;</span> -f2<span style=color:#81a1c1;font-weight:700>)</span><span style=color:#a3be8c>&#34;</span>
</span></span><span style=display:flex><span>gsettings <span style=color:#81a1c1>set</span> <span style=color:#a3be8c>&#34;</span>$gnome_schema<span style=color:#a3be8c>&#34;</span> gtk-theme <span style=color:#a3be8c>&#34;</span>$gtk_theme<span style=color:#a3be8c>&#34;</span>
</span></span><span style=display:flex><span>gsettings <span style=color:#81a1c1>set</span> <span style=color:#a3be8c>&#34;</span>$gnome_schema<span style=color:#a3be8c>&#34;</span> icon-theme <span style=color:#a3be8c>&#34;</span>$icon_theme<span style=color:#a3be8c>&#34;</span>
</span></span><span style=display:flex><span>gsettings <span style=color:#81a1c1>set</span> <span style=color:#a3be8c>&#34;</span>$gnome_schema<span style=color:#a3be8c>&#34;</span> cursor-theme <span style=color:#a3be8c>&#34;</span>$cursor_theme<span style=color:#a3be8c>&#34;</span>
</span></span><span style=display:flex><span>gsettings <span style=color:#81a1c1>set</span> <span style=color:#a3be8c>&#34;</span>$gnome_schema<span style=color:#a3be8c>&#34;</span> font-name <span style=color:#a3be8c>&#34;</span>$font_name<span style=color:#a3be8c>&#34;</span>
</span></span><span style=display:flex><span>gsettings <span style=color:#81a1c1>set</span> <span style=color:#a3be8c>&#34;</span>$gnome_schema<span style=color:#a3be8c>&#34;</span> cursor-size <span style=color:#a3be8c>&#34;</span>$cursor_size<span style=color:#a3be8c>&#34;</span>
</span></span></code></pre></div><p>Lxappearanceãªã©ã§ã‚«ãƒ¼ã‚½ãƒ«ã‚µã‚¤ã‚ºã‚’è¨­å®šã—ã¦ã„ãŸå ´åˆã€ãã‚Œã‚‚è¨­å®šã•ã‚Œã‚‹ã‚ˆã†ã«ã¡ã‚‡ã£ã¨å¤‰æ›´ã‚’åŠ ãˆã¦ã¾ã™</p><p>$PATHã®é€šã£ãŸã¨ã“ã‚ã«ç½®ã„ã¦ãã ã•ã„</p><p>å®Ÿè¡Œæ¨©é™ã‚‚å¿…è¦ã§ã™</p><p><a href=https://github.com/swaywm/sway/wiki/GTK-3-settings-on-Wayland>https://github.com/swaywm/sway/wiki/GTK-3-settings-on-Wayland</a></p><p><code>sway/config</code></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>exec_always /path/to/import-gsettings
</span></span></code></pre></div><h2 id=floating-windowãŒæ©Ÿèƒ½ã—ãªã„>floating windowãŒæ©Ÿèƒ½ã—ãªã„
<a class=anchor href=#floating-window%e3%81%8c%e6%a9%9f%e8%83%bd%e3%81%97%e3%81%aa%e3%81%84>ğŸ”—</a></h2><p>i3wmã‹ã‚‰swayã«ãªã£ã¦WM_CLASSã§ã¯ãªãapp_idã‚’ä½¿ã†ã‚ˆã†ã«ãªã£ãŸã‚ˆã†ã§ã™</p><p><code>sway/config</code></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>for_window <span style=color:#81a1c1>[</span>app_id<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;gpartedbin&#34;</span><span style=color:#81a1c1>]</span> floating <span style=color:#81a1c1>enable</span>
</span></span></code></pre></div><p>ä¾‹ã§ã™</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>swaymsg -t get_tree <span style=color:#eceff4>|</span> grep <span style=color:#a3be8c>&#34;app_id&#34;</span>
</span></span></code></pre></div><p>ã§èµ·å‹•ã—ã¦ã„ã‚‹windowã®app_idãŒå–å¾—ã§ãã¾ã™</p><p>xwaylandã§èµ·å‹•ã—ã¦ã‚‹ã‚½ãƒ•ãƒˆãŒnullã«ãªã£ã¦ãŸã‚“ã§ã™ãŒ</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>xprop <span style=color:#eceff4>|</span> grep WM_CLASS
</span></span></code></pre></div><p>ã§å–å¾—ã—ã¦</p><p><code>sway/config</code></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>for_window <span style=color:#81a1c1>[</span>class<span style=color:#81a1c1>=</span><span style=color:#a3be8c>&#34;Lxappearance&#34;</span><span style=color:#81a1c1>]</span> floating <span style=color:#81a1c1>enable</span>
</span></span></code></pre></div><p>ã§ã§ãã¾ã—ãŸ</p><h2 id=gpartedãŒå‹•ã‹ãªã„>gpartedãŒå‹•ã‹ãªã„
<a class=anchor href=#gparted%e3%81%8c%e5%8b%95%e3%81%8b%e3%81%aa%e3%81%84>ğŸ”—</a></h2><p>polkitã®æ¨©é™è¦æ±‚ãŒä½•æ•…ã‹xwaylandã§å‹•ã‹ãªã„ã‚ˆã†ã§ã™</p><p>xhostã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å†èµ·å‹•ã™ã‚‹ã¨å‹•ãã¾ã™</p><p>archlinuxã§ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã¯<code>xorg-xhost</code>ã§ã™</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo -E gparted
</span></span></code></pre></div><p>ã§ã‚‚å‹•ãã¾ã™</p><h2 id=flameshot>flameshot
<a class=anchor href=#flameshot>ğŸ”—</a></h2><pre tabindex=0><code>export XDG_CURRENT_DESKTOP=sway
</code></pre><h2 id=non-systemdãªsystemã§flameshotã‚’å‹•ã‹ã™>non systemdãªsystemã§flameshotã‚’å‹•ã‹ã™
<a class=anchor href=#non-systemd%e3%81%aasystem%e3%81%a7flameshot%e3%82%92%e5%8b%95%e3%81%8b%e3%81%99>ğŸ”—</a></h2><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#81a1c1>export</span> XDG_CURRENT_DESKTOP<span style=color:#81a1c1>=</span>sway
</span></span></code></pre></div><p><code>sway/config</code></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#81a1c1>exec</span> --no-startup-id dbus-update-activation-environment DISPLAY I3SOCK SWAYSOCK WAYLAND_DISPLAY XDG_CURRENT_DESKTOP<span style=color:#81a1c1>=</span>sway
</span></span></code></pre></div><p><a href="https://github.com/emersion/xdg-desktop-portal-wlr/wiki/%22It-doesn't-work%22-Troubleshooting-Checklist#non-systemd-distributions=">https://github.com/emersion/xdg-desktop-portal-wlr/wiki/%22It-doesn't-work%22-Troubleshooting-Checklist#non-systemd-distributions=</a></p><p>åƒ•ã®dotfilesãƒªãƒã‚¸ãƒˆãƒªã§ã™</p><p><a href=https://github.com/soracqt/config-artix/>https://github.com/soracqt/config-artix/</a></p></div></article></main><div class=article-related><p>Previous: <a href=https://soracqt.github.io/posts/2021-05-14-intel-gvt-g/>Intel GVT-g</a></p><p>Next: <a href=https://soracqt.github.io/posts/2021-05-26-i3wm/>i3wmã«ã¤ã„ã¦</a></p></div><div class=article-license></div><footer><p>Â© 2022 - soracat</footer></body></html>